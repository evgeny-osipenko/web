<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.SignTyped.Structure</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">sign-typed-data-0.1.0.0: Implements EIP-712: Typed structured data hashing and signing</span><ul class="links" id="page-menu"><li><a href="src/Data.SignTyped.Structure.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Data.SignTyped.Structure</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Type definitions </a></li><li><a href="#g:2">Typed values </a></li><li><a href="#g:3">Struct definitions </a></li><li><a href="#g:4">Type context </a></li><li><a href="#g:5">Printing for debugging </a></li><li><a href="#g:6">Unmarked Solidity objects for testing </a></li><li><a href="#g:7">Validating type invariants </a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This modules defines a runtime representation of strictly typed Solidity values.</p><p>This representation is composed of three parts:</p><ul><li>A <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code> gives a mapping from type names to their declarations for custom types (structs).</li><li>An <code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code> gives a type definition. Custom types here are only referred by name, instead of being
    contained in their entirety, so the exact representation of a value will depend on both a <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code> and
    an <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code>.</li><li>An <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code> is a type family that holds a Solidity object of a given Solidity type.</li></ul><p>A mediator between the <code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code> and <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code> is <code><a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a></code>, which is a stripped type-level version of
<code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code>. It contains only the information relevant to choosing the appropriate Haskell type for representation
within an <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code>. And just like with <code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code>, custom types are only referred by their names in <code><a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a></code> too,
and similarly require an addition of a type context (on a type level) to resolve fully. </p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:EthType">EthType</a> rep <span class="keyword">where</span><ul class="subs"><li><a href="#v:EthTypeAtomic">EthTypeAtomic</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> t -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> ('<a href="Data-SignTyped-Structure.html#v:EthReprAtomic" title="Data.SignTyped.Structure">EthReprAtomic</a> t)</li><li><a href="#v:EthTypeArray">EthTypeArray</a> :: <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> ('<a href="Data-SignTyped-Structure.html#v:EthReprArray" title="Data.SignTyped.Structure">EthReprArray</a> rep)</li><li><a href="#v:EthTypeStruct">EthTypeStruct</a> :: <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> ('<a href="Data-SignTyped-Structure.html#v:EthReprStruct" title="Data.SignTyped.Structure">EthReprStruct</a> typename)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AtomicEthType">AtomicEthType</a> t <span class="keyword">where</span><ul class="subs"><li><a href="#v:AtomicEthTypeBool">AtomicEthTypeBool</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:AtomicEthTypeInteger">AtomicEthTypeInteger</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicIntegerBitSize" title="Data.SignTyped.Structure">AtomicIntegerBitSize</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../base-4.17.1.0/Prelude.html#t:Integer" title="Prelude">Integer</a></li><li><a href="#v:AtomicEthTypeBytes">AtomicEthTypeBytes</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li><a href="#v:AtomicEthTypeString">AtomicEthTypeString</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AtomicIntegerSignedness">AtomicIntegerSignedness</a><ul class="subs"><li>= <a href="#v:AtomicIntegerUnsigned">AtomicIntegerUnsigned</a></li><li>| <a href="#v:AtomicIntegerSigned">AtomicIntegerSigned</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:AtomicIntegerBitSize">AtomicIntegerBitSize</a> = <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:AtomicBytesSubtype">AtomicBytesSubtype</a><ul class="subs"><li>= <a href="#v:AtomicBytesSubtypeAddress">AtomicBytesSubtypeAddress</a></li><li>| <a href="#v:AtomicBytesSubtypeShortBytes">AtomicBytesSubtypeShortBytes</a> <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li>| <a href="#v:AtomicBytesSubtypeLongBytes">AtomicBytesSubtypeLongBytes</a></li></ul></li><li class="src short"><a href="#v:ethTypeName">ethTypeName</a> :: <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:EthRepr">EthRepr</a><ul class="subs"><li>= <a href="#v:EthReprAtomic">EthReprAtomic</a> <a href="../base-4.17.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li>| <a href="#v:EthReprArray">EthReprArray</a> <a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a></li><li>| <a href="#v:EthReprStruct">EthReprStruct</a> <a href="Data-SignTyped-Type-SName.html#t:Symbol" title="Data.SignTyped.Type.SName">Symbol</a></li></ul></li><li class="src short"><span class="keyword">data family</span> <a href="#t:EthValue">EthValue</a> (ctx :: <a href="Data-SignTyped-Type-HMap.html#t:TMap" title="Data.SignTyped.Type.HMap">TMap</a> <a href="Data-SignTyped-Type-SName.html#t:Symbol" title="Data.SignTyped.Type.SName">Symbol</a> [<a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a>]) (rep :: <a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a>)</li><li class="src short"><a href="#v:defaultEthValue">defaultEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep</li><li class="src short"><a href="#v:eqEthValue">eqEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:compareEthValue">compareEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="../base-4.17.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:StructDef">StructDef</a> = <a href="Data-SignTyped-Type-HList.html#t:HList" title="Data.SignTyped.Type.HList">HList</a> <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:MemberDef">MemberDef</a> rep <span class="keyword">where</span><ul class="subs"><li><a href="#v:MemberDef">MemberDef</a> :: <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> rep</li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:TypeContext">TypeContext</a> ctx = <a href="#v:TypeContext">TypeContext</a> {<ul class="subs"><li><a href="#v:typeContextMap">typeContextMap</a> :: <a href="Data-SignTyped-Type-HMap.html#t:HMap" title="Data.SignTyped.Type.HMap">HMap</a> <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> <a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> ctx</li></ul>}</li><li class="src short"><a href="#v:emptyTypeContext">emptyTypeContext</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></li><li class="src short"><a href="#v:singletonTypeContext">singletonTypeContext</a> :: <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; <a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> reps -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></li><li class="src short"><a href="#v:lookupStructDef">lookupStructDef</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> (<a href="Data-SignTyped-Type-HMap.html#t:Lookup" title="Data.SignTyped.Type.HMap">Lookup</a> typename ctx))</li><li class="src short"><a href="#v:withStructDef">withStructDef</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; (<a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> (<a href="Data-SignTyped-Type-HMap.html#t:Lookup" title="Data.SignTyped.Type.HMap">Lookup</a> typename ctx) -&gt; r) -&gt; r</li><li class="src short"><a href="#v:showsEthValue">showsEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></li><li class="src short"><a href="#v:showsEthStructDef">showsEthStructDef</a> :: <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; <a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> reps -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></li><li class="src short"><a href="#v:showsTypeContext">showsTypeContext</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SomeEthValue">SomeEthValue</a> = <span class="keyword">forall</span> ctx repr. <a href="#v:SomeEthValue">SomeEthValue</a> (<a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx) (<a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> repr) (<a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx repr)</li><li class="src short"><a href="#v:validateEthValue">validateEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; [<a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a>]</li><li class="src short"><a href="#v:validateEthValueWorker">validateEthValueWorker</a> :: <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> -&gt; <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; [<a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; [<a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a>]</li><li class="src short"><a href="#v:isValidInteger">isValidInteger</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicIntegerBitSize" title="Data.SignTyped.Structure">AtomicIntegerBitSize</a> -&gt; <a href="../base-4.17.1.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Type definitions </h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EthType" class="def">EthType</a> rep <span class="keyword">where</span> <a href="src/Data.SignTyped.Structure.html#EthType" class="link">Source</a> <a href="#t:EthType" class="selflink">#</a></p><div class="doc"><p>A GADT defining a Solidity type. The type marker is an <code><a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a></code> selecting the appropriate Haskell representation
for the given Solidity type. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EthTypeAtomic" class="def">EthTypeAtomic</a></td><td class="doc"><p>Atomic types are defined fully in-place.</p><p>They each have specific encodings and JSON mappings. </p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> t</dfn><div class="doc"><p>An in-place definition for the type. </p></div></li><li><dfn class="src">-&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> ('<a href="Data-SignTyped-Structure.html#v:EthReprAtomic" title="Data.SignTyped.Structure">EthReprAtomic</a> t)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:EthTypeArray" class="def">EthTypeArray</a></td><td class="doc"><p>Array types are composed of a base type and an optional size.</p><p>The encoding is <code>keccak256</code> of the concatenation of the elements' encodings.</p><p>In JSON, an array is represented as a JSON array. </p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep</dfn><div class="doc"><p>Base (element) type. </p></div></li><li><dfn class="src">-&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Array size. If present, the value must have this exact number of elements. Otherwise, any number
            of elements is permitted. </p></div></li><li><dfn class="src">-&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> ('<a href="Data-SignTyped-Structure.html#v:EthReprArray" title="Data.SignTyped.Structure">EthReprArray</a> rep)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:EthTypeStruct" class="def">EthTypeStruct</a></td><td class="doc"><p>Structs are kept as references, to be fully resolved later with a <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code>.</p><p>The encoding is <code>keccak256</code> of a concatenation of the struct's type hash (dependent on its definition in
    the type context) and the encodings of its member values.</p><p>In JSON, a struct is represented by a JSON object, with keys corresponding to the struct members' names. </p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename</dfn><div class="doc"><p>The name of the struct, as a singleton. </p></div></li><li><dfn class="src">-&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> ('<a href="Data-SignTyped-Structure.html#v:EthReprStruct" title="Data.SignTyped.Structure">EthReprStruct</a> typename)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EthType">Instances</h4><details id="i:EthType" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EthType:TestEquality:1"></span> <a href="../base-4.17.1.0/Data-Type-Equality.html#t:TestEquality" title="Data.Type.Equality">TestEquality</a> <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></span> <a href="src/Data.SignTyped.Structure.html#line-103" class="link">Source</a> <a href="#t:EthType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EthType:TestEquality:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testEquality">testEquality</a> :: <span class="keyword">forall</span> (a :: k) (b :: k). <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> a -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> b -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a <a href="../base-4.17.1.0/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b) <a href="#v:testEquality" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EthType:Show:2"></span> <a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep)</span> <a href="src/Data.SignTyped.Structure.html#line-101" class="link">Source</a> <a href="#t:EthType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EthType:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep] -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AtomicEthType" class="def">AtomicEthType</a> t <span class="keyword">where</span> <a href="src/Data.SignTyped.Structure.html#AtomicEthType" class="link">Source</a> <a href="#t:AtomicEthType" class="selflink">#</a></p><div class="doc"><p>A GADT that gives specific definitions for atomic types. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AtomicEthTypeBool" class="def">AtomicEthTypeBool</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Represented by Haskell <code><a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></code>: Solidity <code>bool</code>.</p><p>A <code>bool</code> is encoded as a <code>uint256</code>, with <code><a href="../base-4.17.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a></code> and <code><a href="../base-4.17.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a></code> corresponding respectively to 0 and 1.</p><p>In JSON, the literals <code>false</code> and <code>true</code> are used. </p></td></tr><tr><td class="src"><a id="v:AtomicEthTypeInteger" class="def">AtomicEthTypeInteger</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicIntegerBitSize" title="Data.SignTyped.Structure">AtomicIntegerBitSize</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../base-4.17.1.0/Prelude.html#t:Integer" title="Prelude">Integer</a></td><td class="doc"><p>Represented by Haskell <code><a href="../base-4.17.1.0/Prelude.html#t:Integer" title="Prelude">Integer</a></code>: Solidity <code>intN</code> and <code>uintN</code>.</p><p>When a number is encoded, it is sign-extended to 256 bits (32 bytes) and written out in big-endian order.</p><p>When serialized into JSON, the representation is dependent on the value's magnitude: if it is small enough
    to fit in the exact-integer-range of IEEE Double (which JSON numbers are usually implemented as), then the number
    is written as-is. Otherwise, it is converted to hexadecimal and written as a JSON string with preceding <code>0x</code>.</p><p>On input from JSON, either form for any magnitude is allowed. Since Haskell's <code>aeson</code> always parses numbers
    precisely, it does not suffer from Double's limitations. </p></td></tr><tr><td class="src"><a id="v:AtomicEthTypeBytes" class="def">AtomicEthTypeBytes</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>Represented by Haskell <code><a href="../bytestring-0.11.4.0/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>: Solidity <code>address</code>, <code>bytesN</code> and <code>bytes</code>.</p><p>The single parameter further distinguishes between these variants, controls the way values are
    encoded for signing and mapped to JSON for sign requests, and can also impose restrictions on the value. </p></td></tr><tr><td class="src"><a id="v:AtomicEthTypeString" class="def">AtomicEthTypeString</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a></td><td class="doc"><p>Represented by Haskell <code><a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a></code>: Solidity <code>string</code>.</p><p>The encoding is <code>keccak256</code> of the UTF-8 encoding of the string.</p><p>When serialized into JSON, the string is written out in literal text, unless it starts with <code>0x</code> or <code>0X</code> or
    contains an embedded zero, in which case it's encoded in UTF-8 and written in hexadecimal, like <code>bytes</code>. </p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AtomicEthType">Instances</h4><details id="i:AtomicEthType" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AtomicEthType:TestEquality:1"></span> <a href="../base-4.17.1.0/Data-Type-Equality.html#t:TestEquality" title="Data.Type.Equality">TestEquality</a> <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a></span> <a href="src/Data.SignTyped.Structure.html#line-151" class="link">Source</a> <a href="#t:AtomicEthType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AtomicEthType:TestEquality:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testEquality">testEquality</a> :: <span class="keyword">forall</span> (a :: k) (b :: k). <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> a -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> b -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a <a href="../base-4.17.1.0/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b) <a href="#v:testEquality" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AtomicEthType:Show:2"></span> <a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> t)</span> <a href="src/Data.SignTyped.Structure.html#line-149" class="link">Source</a> <a href="#t:AtomicEthType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AtomicEthType:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> t -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> t -&gt; <a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SignTyped-Structure.html#t:AtomicEthType" title="Data.SignTyped.Structure">AtomicEthType</a> t] -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AtomicIntegerSignedness" class="def">AtomicIntegerSignedness</a> <a href="src/Data.SignTyped.Structure.html#AtomicIntegerSignedness" class="link">Source</a> <a href="#t:AtomicIntegerSignedness" class="selflink">#</a></p><div class="doc"><p>Chooses between <code>uintN</code> and <code>intN</code> types. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AtomicIntegerUnsigned" class="def">AtomicIntegerUnsigned</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AtomicIntegerSigned" class="def">AtomicIntegerSigned</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AtomicIntegerSignedness">Instances</h4><details id="i:AtomicIntegerSignedness" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AtomicIntegerSignedness:Show:1"></span> <a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a></span> <a href="src/Data.SignTyped.Structure.html#line-169" class="link">Source</a> <a href="#t:AtomicIntegerSignedness" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AtomicIntegerSignedness:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a>] -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AtomicIntegerSignedness:Eq:2"></span> <a href="../base-4.17.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a></span> <a href="src/Data.SignTyped.Structure.html#line-169" class="link">Source</a> <a href="#t:AtomicIntegerSignedness" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AtomicIntegerSignedness:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AtomicIntegerBitSize" class="def">AtomicIntegerBitSize</a> = <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Data.SignTyped.Structure.html#AtomicIntegerBitSize" class="link">Source</a> <a href="#t:AtomicIntegerBitSize" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AtomicBytesSubtype" class="def">AtomicBytesSubtype</a> <a href="src/Data.SignTyped.Structure.html#AtomicBytesSubtype" class="link">Source</a> <a href="#t:AtomicBytesSubtype" class="selflink">#</a></p><div class="doc"><p>A subcategory of a bytes-represented type. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AtomicBytesSubtypeAddress" class="def">AtomicBytesSubtypeAddress</a></td><td class="doc"><p>Solidity <code>address</code>.</p><p>The bytestring's length must be exactly 20.</p><p>Upon encoding, the bytes are left-padded until the length of 32.</p><p>In JSON, the addresses are represented as hexadecimal strings with the mixed-case checksumming (ERC-55).
    The casing is strictly verified on input. </p></td></tr><tr><td class="src"><a id="v:AtomicBytesSubtypeShortBytes" class="def">AtomicBytesSubtypeShortBytes</a> <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>Solidity <code>bytesN</code>, with the N given in the single parameter.</p><p>The bytestring's length must be exactly N.</p><p>Upon encoding, the bytes are right-padded until the length of 32.</p><p>In JSON, the bytes are written out as a hexadecimal string. The input is case-insensitive. On output,
    lowercase digits are produced. </p></td></tr><tr><td class="src"><a id="v:AtomicBytesSubtypeLongBytes" class="def">AtomicBytesSubtypeLongBytes</a></td><td class="doc"><p>Solidity <code>bytes</code>.</p><p>There are no restrictions on the bytestring.</p><p>The encoding is <code>keccak256</code> of the bytes.</p><p>In JSON, the bytes are written out as a hexadecimal string. The input is case-insensitive. On output,
    lowercase digits are produced. </p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AtomicBytesSubtype">Instances</h4><details id="i:AtomicBytesSubtype" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AtomicBytesSubtype:Show:1"></span> <a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a></span> <a href="src/Data.SignTyped.Structure.html#line-210" class="link">Source</a> <a href="#t:AtomicBytesSubtype" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AtomicBytesSubtype:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a>] -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AtomicBytesSubtype:Eq:2"></span> <a href="../base-4.17.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a></span> <a href="src/Data.SignTyped.Structure.html#line-210" class="link">Source</a> <a href="#t:AtomicBytesSubtype" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AtomicBytesSubtype:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicBytesSubtype" title="Data.SignTyped.Structure">AtomicBytesSubtype</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:ethTypeName" class="def">ethTypeName</a> :: <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Data.SignTyped.Structure.html#ethTypeName" class="link">Source</a> <a href="#v:ethTypeName" class="selflink">#</a></p><div class="doc"><p>Converts the marked type definition into a simple string.</p><p>For the inverse conversion, see <code><a href="Data-SignTyped-Json.html#v:parseUnmarkedEthType" title="Data.SignTyped.Json">parseUnmarkedEthType</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EthRepr" class="def">EthRepr</a> <a href="src/Data.SignTyped.Structure.html#EthRepr" class="link">Source</a> <a href="#t:EthRepr" class="selflink">#</a></p><div class="doc"><p>A kind for selecting a Haskell representation for a Solidity object. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EthReprAtomic" class="def">EthReprAtomic</a> <a href="../base-4.17.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EthReprArray" class="def">EthReprArray</a> <a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:EthReprStruct" class="def">EthReprStruct</a> <a href="Data-SignTyped-Type-SName.html#t:Symbol" title="Data.SignTyped.Type.SName">Symbol</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EthRepr">Instances</h4><details id="i:EthRepr" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EthRepr:TestEquality:1"></span> <a href="../base-4.17.1.0/Data-Type-Equality.html#t:TestEquality" title="Data.Type.Equality">TestEquality</a> <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></span> <a href="src/Data.SignTyped.Structure.html#line-103" class="link">Source</a> <a href="#t:EthRepr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EthRepr:TestEquality:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testEquality">testEquality</a> :: <span class="keyword">forall</span> (a :: k) (b :: k). <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> a -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> b -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a <a href="../base-4.17.1.0/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b) <a href="#v:testEquality" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EthRepr:TestEquality:2"></span> <a href="../base-4.17.1.0/Data-Type-Equality.html#t:TestEquality" title="Data.Type.Equality">TestEquality</a> <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a></span> <a href="src/Data.SignTyped.Structure.html#line-412" class="link">Source</a> <a href="#t:EthRepr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EthRepr:TestEquality:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testEquality">testEquality</a> :: <span class="keyword">forall</span> (a :: k) (b :: k). <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> a -&gt; <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> b -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a <a href="../base-4.17.1.0/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b) <a href="#v:testEquality" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EthRepr:Monoid:3"></span> <a href="../base-4.17.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>)</span> <a href="src/Data.SignTyped.Structure.html#line-457" class="link">Source</a> <a href="#t:EthRepr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EthRepr:Monoid:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>] -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EthRepr:Semigroup:4"></span> <a href="../base-4.17.1.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>)</span> <a href="src/Data.SignTyped.Structure.html#line-445" class="link">Source</a> <a href="#t:EthRepr" class="selflink">#</a></td><td class="doc"><p>If both <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code>s have definitions for the same struct name, <code><a href="../base-4.17.1.0/Data-Semigroup.html#v:-60--62-" title="Data.Semigroup">(&lt;&gt;)</a></code> will check that they
are equal, and throw an error if they are not. </p></td></tr><tr><td colspan="2"><details id="i:id:EthRepr:Semigroup:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.17.1.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>) -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.17.1.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EthRepr:TestEquality:5"></span> <a href="../base-4.17.1.0/Data-Type-Equality.html#t:TestEquality" title="Data.Type.Equality">TestEquality</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></span> <a href="src/Data.SignTyped.Structure.html#line-435" class="link">Source</a> <a href="#t:EthRepr" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EthRepr:TestEquality:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testEquality">testEquality</a> :: <span class="keyword">forall</span> (a :: k) (b :: k). <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> a -&gt; <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> b -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a <a href="../base-4.17.1.0/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b) <a href="#v:testEquality" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Typed values </h1></a><div class="top"><p class="src"><span class="keyword">data family</span> <a id="t:EthValue" class="def">EthValue</a> (ctx :: <a href="Data-SignTyped-Type-HMap.html#t:TMap" title="Data.SignTyped.Type.HMap">TMap</a> <a href="Data-SignTyped-Type-SName.html#t:Symbol" title="Data.SignTyped.Type.SName">Symbol</a> [<a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a>]) (rep :: <a href="Data-SignTyped-Structure.html#t:EthRepr" title="Data.SignTyped.Structure">EthRepr</a>) <a href="src/Data.SignTyped.Structure.html#EthValue" class="link">Source</a> <a href="#t:EthValue" class="selflink">#</a></p><div class="doc"><p>Haskell representation of a Solidity object of the given type.</p><p>The first parameter matches the representation with a <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code>, and the second with an <code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code>.</p><p>To inspect an arbitrary <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code>, you will need its corresponding <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code> and <code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code>. As examples
of processing arbitrary objects using this type information, you can look at the sources of <code><a href="Data-SignTyped-Structure.html#v:defaultEthValue" title="Data.SignTyped.Structure">defaultEthValue</a></code>,
<code><a href="Data-SignTyped-Json.html#v:ethValueToEncoding" title="Data.SignTyped.Json">ethValueToEncoding</a></code>, <code><a href="Data-SignTyped-Json.html#v:ethValueParseJSON" title="Data.SignTyped.Json">ethValueParseJSON</a></code>,
<code><a href="Data-SignTyped-Hashing.html#v:hashEthValue" title="Data.SignTyped.Hashing">hashEthValue</a></code> and other functions from this package. </p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EthValue">Instances</h4><details id="i:EthValue" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:EthValue:EthValue:1"></span> <span class="keyword">newtype</span> <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx ('<a href="Data-SignTyped-Structure.html#v:EthReprArray" title="Data.SignTyped.Structure">EthReprArray</a> rep)</span> <a href="src/Data.SignTyped.Structure.html#line-268" class="link">Source</a> <a href="#t:EthValue" class="selflink">#</a></td><td class="doc"><p>Arrays are represented as Haskell lists.</p><p>When given an <code>EthTypeArray baseType mbSize</code>, inspect <code>baseType</code> to determine the representation of
the elements. </p></td></tr><tr><td colspan="2"><details id="i:if:EthValue:EthValue:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx ('<a href="Data-SignTyped-Structure.html#v:EthReprArray" title="Data.SignTyped.Structure">EthReprArray</a> rep) = <a id="v:EthValueArray" class="def">EthValueArray</a> {<ul class="inst"><li class="inst"><a id="v:unwrapEthValueArray" class="def">unwrapEthValueArray</a> :: [<a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep]</li></ul>}</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:EthValue:EthValue:2"></span> <span class="keyword">newtype</span> <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx ('<a href="Data-SignTyped-Structure.html#v:EthReprAtomic" title="Data.SignTyped.Structure">EthReprAtomic</a> t)</span> <a href="src/Data.SignTyped.Structure.html#line-259" class="link">Source</a> <a href="#t:EthValue" class="selflink">#</a></td><td class="doc"><p>Atomic values are represented directly by specific Haskell types.</p><p>When given an <code>EthTypeAtomic name atomType</code>, use pattern-matching on the <code>atomType</code> to determine the exact
representation type. </p></td></tr><tr><td colspan="2"><details id="i:if:EthValue:EthValue:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx ('<a href="Data-SignTyped-Structure.html#v:EthReprAtomic" title="Data.SignTyped.Structure">EthReprAtomic</a> t) = <a id="v:EthValueAtomic" class="def">EthValueAtomic</a> {<ul class="inst"><li class="inst"><a id="v:unwrapEthValueAtomic" class="def">unwrapEthValueAtomic</a> :: t</li></ul>}</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:EthValue:EthValue:3"></span> <span class="keyword">newtype</span> <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx ('<a href="Data-SignTyped-Structure.html#v:EthReprStruct" title="Data.SignTyped.Structure">EthReprStruct</a> typename)</span> <a href="src/Data.SignTyped.Structure.html#line-278" class="link">Source</a> <a href="#t:EthValue" class="selflink">#</a></td><td class="doc"><p>Structs are represented as <code><a href="Data-SignTyped-Type-HList.html#t:HList" title="Data.SignTyped.Type.HList">HList</a></code>s of members.</p><p>When given an <code>EthTypeStruct sname</code>, use <code><a href="Data-SignTyped-Structure.html#v:lookupStructDef" title="Data.SignTyped.Structure">lookupStructDef</a></code> or <code><a href="Data-SignTyped-Structure.html#v:withStructDef" title="Data.SignTyped.Structure">withStructDef</a></code> to resolve the struct's name into
its members <code><a href="Data-SignTyped-Type-HList.html#t:HList" title="Data.SignTyped.Type.HList">HList</a></code>, after which you can <code><a href="Data-SignTyped-Type-HList.html#v:hzip" title="Data.SignTyped.Type.HList">hzip</a></code>, <code><a href="Data-SignTyped-Type-HList.html#v:hzipWith" title="Data.SignTyped.Type.HList">hzipWith</a></code> or manually pattern-match the two <code><a href="Data-SignTyped-Type-HList.html#t:HList" title="Data.SignTyped.Type.HList">HList</a></code>s and retrieve
the representation of each member from its corresponding <code><a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a></code>. </p></td></tr><tr><td colspan="2"><details id="i:if:EthValue:EthValue:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx ('<a href="Data-SignTyped-Structure.html#v:EthReprStruct" title="Data.SignTyped.Structure">EthReprStruct</a> typename) = <a id="v:EthValueStruct" class="def">EthValueStruct</a> {<ul class="inst"><li class="inst"><a id="v:unwrapEthValueStruct" class="def">unwrapEthValueStruct</a> :: <a href="Data-SignTyped-Type-HList.html#t:HList" title="Data.SignTyped.Type.HList">HList</a> (<a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx) (<a href="Data-SignTyped-Type-HMap.html#t:Lookup" title="Data.SignTyped.Type.HMap">Lookup</a> typename ctx)</li></ul>}</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:defaultEthValue" class="def">defaultEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep <a href="src/Data.SignTyped.Structure.html#defaultEthValue" class="link">Source</a> <a href="#v:defaultEthValue" class="selflink">#</a></p><div class="doc"><p>Generate a default value for a given type:</p><ul><li><code>bool</code> defaults to <code><a href="../base-4.17.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a></code>.</li><li>Integer types default to 0.</li><li>Fixed-length strings (<code>address</code> and <code>bytesN</code>) are filled with zero bytes.</li><li>Variable-length strings (<code>bytes</code> and <code>string</code>) are defaulted to the empty string.</li><li>Fixed-length arrays are filled with the copies of the base type's default value.</li><li>Variable-length arrays are defaulted empty.</li><li>Structs have each of their member defaulted. </li></ul></div></div><div class="top"><p class="src"><a id="v:eqEthValue" class="def">eqEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Data.SignTyped.Structure.html#eqEthValue" class="link">Source</a> <a href="#v:eqEthValue" class="selflink">#</a></p><div class="doc"><p>Checks equality of two Solidity objects of the same type.</p><p>Since inspecting <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code>s requires type information to be passed along with the value, we cannot do this in
the standard <code><a href="../base-4.17.1.0/Data-Eq.html#v:-61--61-" title="Data.Eq">(==)</a></code> operator. </p></div></div><div class="top"><p class="src"><a id="v:compareEthValue" class="def">compareEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="../base-4.17.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="src/Data.SignTyped.Structure.html#compareEthValue" class="link">Source</a> <a href="#v:compareEthValue" class="selflink">#</a></p><div class="doc"><p>Compares the ordering of two Solidity objects of the same type.</p><p>Since inspecting <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code>s requires type information to be passed along with the value, we cannot do this in
the standard <code><a href="../base-4.17.1.0/Data-Ord.html#v:compare" title="Data.Ord">compare</a></code> operator. </p></div></div><a href="#g:3" id="g:3"><h1>Struct definitions </h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StructDef" class="def">StructDef</a> = <a href="Data-SignTyped-Type-HList.html#t:HList" title="Data.SignTyped.Type.HList">HList</a> <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> <a href="src/Data.SignTyped.Structure.html#StructDef" class="link">Source</a> <a href="#t:StructDef" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MemberDef" class="def">MemberDef</a> rep <span class="keyword">where</span> <a href="src/Data.SignTyped.Structure.html#MemberDef" class="link">Source</a> <a href="#t:MemberDef" class="selflink">#</a></p><div class="doc"><p>Structs are defines by their members, and each member is defined by its name and type.</p><p>The member type's representation marker is exposed as the marker of the member itself. When collected into an
<code><a href="Data-SignTyped-Type-HList.html#t:HList" title="Data.SignTyped.Type.HList">HList</a></code>, its combined marker gives the representation of the entire structure, as a list of representations of
each of its members. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MemberDef" class="def">MemberDef</a> :: <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="../text-2.0.2/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> rep</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MemberDef">Instances</h4><details id="i:MemberDef" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MemberDef:TestEquality:1"></span> <a href="../base-4.17.1.0/Data-Type-Equality.html#t:TestEquality" title="Data.Type.Equality">TestEquality</a> <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a></span> <a href="src/Data.SignTyped.Structure.html#line-412" class="link">Source</a> <a href="#t:MemberDef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MemberDef:TestEquality:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testEquality">testEquality</a> :: <span class="keyword">forall</span> (a :: k) (b :: k). <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> a -&gt; <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> b -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a <a href="../base-4.17.1.0/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b) <a href="#v:testEquality" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MemberDef:Show:2"></span> <a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> rep)</span> <a href="src/Data.SignTyped.Structure.html#line-410" class="link">Source</a> <a href="#t:MemberDef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MemberDef:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> rep -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> rep -&gt; <a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SignTyped-Structure.html#t:MemberDef" title="Data.SignTyped.Structure">MemberDef</a> rep] -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:4" id="g:4"><h1>Type context </h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:TypeContext" class="def">TypeContext</a> ctx <a href="src/Data.SignTyped.Structure.html#TypeContext" class="link">Source</a> <a href="#t:TypeContext" class="selflink">#</a></p><div class="doc"><p>A type context is an <code><a href="Data-SignTyped-Type-HMap.html#t:HMap" title="Data.SignTyped.Type.HMap">HMap</a></code> from struct names to their definitions (member lists).</p><p>In the context of Haskell's type system, a <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code> is a singleton &#8212; for each instance, the marker <code>ctx</code>
will take on a unique type of kind <code><code><a href="Data-SignTyped-Type-HMap.html#t:TMap" title="Data.SignTyped.Type.HMap">TMap</a></code> <code><a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a></code> <code><a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a></code></code>. Combined with <code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code>'s markers, this makes
this representation of Solidity objects in Haskell almost an instance of dependent typing &#8212; where the values
of the <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code> and <code><a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a></code> determine the exact type of an <code><a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a></code>.</p><p>With the marker &quot;hidden&quot; under an existential, <code>Some TypeContext</code> practically becomes a normal map. To that end,
it posesses an instance of <code>Monoid (Some TypeContext)</code>, which allows one to construct a type context from individual
definitions. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TypeContext" class="def">TypeContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:typeContextMap" class="def">typeContextMap</a> :: <a href="Data-SignTyped-Type-HMap.html#t:HMap" title="Data.SignTyped.Type.HMap">HMap</a> <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> <a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> ctx</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TypeContext">Instances</h4><details id="i:TypeContext" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TypeContext:Show:1"></span> <a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx)</span> <a href="src/Data.SignTyped.Structure.html#line-437" class="link">Source</a> <a href="#t:TypeContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TypeContext:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx] -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TypeContext:Monoid:2"></span> <a href="../base-4.17.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>)</span> <a href="src/Data.SignTyped.Structure.html#line-457" class="link">Source</a> <a href="#t:TypeContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TypeContext:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>] -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TypeContext:Semigroup:3"></span> <a href="../base-4.17.1.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>)</span> <a href="src/Data.SignTyped.Structure.html#line-445" class="link">Source</a> <a href="#t:TypeContext" class="selflink">#</a></td><td class="doc"><p>If both <code><a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></code>s have definitions for the same struct name, <code><a href="../base-4.17.1.0/Data-Semigroup.html#v:-60--62-" title="Data.Semigroup">(&lt;&gt;)</a></code> will check that they
are equal, and throw an error if they are not. </p></td></tr><tr><td colspan="2"><details id="i:id:TypeContext:Semigroup:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.17.1.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a>) -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.17.1.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TypeContext:TestEquality:4"></span> <a href="../base-4.17.1.0/Data-Type-Equality.html#t:TestEquality" title="Data.Type.Equality">TestEquality</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a></span> <a href="src/Data.SignTyped.Structure.html#line-435" class="link">Source</a> <a href="#t:TypeContext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TypeContext:TestEquality:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:testEquality">testEquality</a> :: <span class="keyword">forall</span> (a :: k) (b :: k). <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> a -&gt; <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> b -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a <a href="../base-4.17.1.0/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b) <a href="#v:testEquality" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:emptyTypeContext" class="def">emptyTypeContext</a> :: <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="src/Data.SignTyped.Structure.html#emptyTypeContext" class="link">Source</a> <a href="#v:emptyTypeContext" class="selflink">#</a></p><div class="doc"><p>Produce an empty type context. </p></div></div><div class="top"><p class="src"><a id="v:singletonTypeContext" class="def">singletonTypeContext</a> :: <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; <a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> reps -&gt; <a href="Data-SignTyped-Type-Some.html#t:Some" title="Data.SignTyped.Type.Some">Some</a> <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> <a href="src/Data.SignTyped.Structure.html#singletonTypeContext" class="link">Source</a> <a href="#v:singletonTypeContext" class="selflink">#</a></p><div class="doc"><p>Produce a type context with a single definition. </p></div></div><div class="top"><p class="src"><a id="v:lookupStructDef" class="def">lookupStructDef</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; <a href="../base-4.17.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> (<a href="Data-SignTyped-Type-HMap.html#t:Lookup" title="Data.SignTyped.Type.HMap">Lookup</a> typename ctx)) <a href="src/Data.SignTyped.Structure.html#lookupStructDef" class="link">Source</a> <a href="#v:lookupStructDef" class="selflink">#</a></p><div class="doc"><p>Perform a safe lookup in a type context. If the given key is absent, <code><a href="../base-4.17.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is returned. </p></div></div><div class="top"><p class="src"><a id="v:withStructDef" class="def">withStructDef</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; (<a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> (<a href="Data-SignTyped-Type-HMap.html#t:Lookup" title="Data.SignTyped.Type.HMap">Lookup</a> typename ctx) -&gt; r) -&gt; r <a href="src/Data.SignTyped.Structure.html#withStructDef" class="link">Source</a> <a href="#v:withStructDef" class="selflink">#</a></p><div class="doc"><p>Perform a strict lookup in a type context. If the given key is absent, an <code><a href="../base-4.17.1.0/Prelude.html#v:error" title="Prelude">error</a></code> is raised.</p><p>The continuation-passing style of this function allows one to put an arbitrary expression dependent on the check,
so that even if the struct definition itself ends up being unused due to lazyness, the key-presence check will be
performed anyway. </p></div></div><a href="#g:5" id="g:5"><h1>Printing for debugging </h1></a><div class="top"><p class="src"><a id="v:showsEthValue" class="def">showsEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="src/Data.SignTyped.Structure.html#showsEthValue" class="link">Source</a> <a href="#v:showsEthValue" class="selflink">#</a></p><div class="doc"><p>Prints a Solidity object into a <code><a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></code>-string. This is intended solely for debugging purposes, so the output
is not guaranteed to conform to any format or even be unambiguous.</p><p>If you want to properly serialize a Solidity object, you should use <code><a href="Data-SignTyped-Json.html#v:ethValueToJSON" title="Data.SignTyped.Json">ethValueToJSON</a></code> or
<code><a href="Data-SignTyped-Json.html#v:ethValueToEncoding" title="Data.SignTyped.Json">ethValueToEncoding</a></code> instead. </p></div></div><div class="top"><p class="src"><a id="v:showsEthStructDef" class="def">showsEthStructDef</a> :: <a href="Data-SignTyped-Type-SName.html#t:SName" title="Data.SignTyped.Type.SName">SName</a> typename -&gt; <a href="Data-SignTyped-Structure.html#t:StructDef" title="Data.SignTyped.Structure">StructDef</a> reps -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="src/Data.SignTyped.Structure.html#showsEthStructDef" class="link">Source</a> <a href="#v:showsEthStructDef" class="selflink">#</a></p><div class="doc"><p>Prints a struct definition into a <code><a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></code>-string. This is intended solely for debugging purposes, so the output
is not guaranteed to conform to any format or even be unambiguous.</p><p>If you want to properly serialize a struct definition, you should instead use
<code><a href="Data-SignTyped-Json.html#v:toUnmarkedStructDef" title="Data.SignTyped.Json">toUnmarkedStructDef</a></code>, followed by any of the Aeson's serialization routines. </p></div></div><div class="top"><p class="src"><a id="v:showsTypeContext" class="def">showsTypeContext</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="src/Data.SignTyped.Structure.html#showsTypeContext" class="link">Source</a> <a href="#v:showsTypeContext" class="selflink">#</a></p><div class="doc"><p>Prints a type context into a <code><a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></code>-string. This is intended solely for debugging purposes, so the output
is not guaranteed to conform to any format or even be unambiguous.</p><p>If you want to properly serialize a type context, you should instead use
<code><a href="Data-SignTyped-Json.html#v:toUnmarkedTypeContext" title="Data.SignTyped.Json">toUnmarkedTypeContext</a></code>, followed by any of the Aeson's serialization routines. </p></div></div><a href="#g:6" id="g:6"><h1>Unmarked Solidity objects for testing </h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SomeEthValue" class="def">SomeEthValue</a> <a href="src/Data.SignTyped.Structure.html#SomeEthValue" class="link">Source</a> <a href="#t:SomeEthValue" class="selflink">#</a></p><div class="doc"><p>A Solidity object wrapped together with its type.</p><p>This wrapper is intended to be used in test suites, where assertions expect the objects to have
standard <code><a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> and <code><a href="../base-4.17.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code> instances, for example as arguments to <code><a href="Test-Hspec.html#v:shouldBe" title="Test.Hspec">shouldBe</a></code>. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> ctx repr. <a id="v:SomeEthValue" class="def">SomeEthValue</a> (<a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx) (<a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> repr) (<a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx repr)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SomeEthValue">Instances</h4><details id="i:SomeEthValue" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SomeEthValue:Show:1"></span> <a href="../base-4.17.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a></span> <a href="src/Data.SignTyped.Structure.html#line-639" class="link">Source</a> <a href="#t:SomeEthValue" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SomeEthValue:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.17.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a> -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a> -&gt; <a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a>] -&gt; <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SomeEthValue:Eq:2"></span> <a href="../base-4.17.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a></span> <a href="src/Data.SignTyped.Structure.html#line-645" class="link">Source</a> <a href="#t:SomeEthValue" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SomeEthValue:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SignTyped-Structure.html">Data.SignTyped.Structure</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a> -&gt; <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a> -&gt; <a href="Data-SignTyped-Structure.html#t:SomeEthValue" title="Data.SignTyped.Structure">SomeEthValue</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:7" id="g:7"><h1>Validating type invariants </h1></a><div class="top"><p class="src"><a id="v:validateEthValue" class="def">validateEthValue</a> :: <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; [<a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a>] <a href="src/Data.SignTyped.Structure.html#validateEthValue" class="link">Source</a> <a href="#v:validateEthValue" class="selflink">#</a></p><div class="doc"><p>Performs validation checks on the given object and returns the list of errors.</p><p>This function checks for additional conditions imposed by the Solidity type definition that are not part
of the representation's Haskell type itself, such as the integer values being in range of their types, or fixed-size
arrays having a proper number of elements.</p><p>The default handles from <code><a href="Data-SignTyped-Class.html#v:SignableValue" title="Data.SignTyped.Class">SignableValue</a></code>, as well as
<code><a href="Data-SignTyped-Json.html#v:ethValueParseJSON" title="Data.SignTyped.Json">ethValueParseJSON</a></code> perform their own validation to produce only correct Solidity objects,
so this specific function is better suited as a debug tool rather than a routine checker in the main code. </p></div></div><div class="top"><p class="src"><a id="v:validateEthValueWorker" class="def">validateEthValueWorker</a> :: <a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> -&gt; <a href="Data-SignTyped-Structure.html#t:TypeContext" title="Data.SignTyped.Structure">TypeContext</a> ctx -&gt; <a href="Data-SignTyped-Structure.html#t:EthType" title="Data.SignTyped.Structure">EthType</a> rep -&gt; <a href="Data-SignTyped-Structure.html#t:EthValue" title="Data.SignTyped.Structure">EthValue</a> ctx rep -&gt; [<a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; [<a href="../base-4.17.1.0/Data-String.html#t:String" title="Data.String">String</a>] <a href="src/Data.SignTyped.Structure.html#validateEthValueWorker" class="link">Source</a> <a href="#v:validateEthValueWorker" class="selflink">#</a></p><div class="doc"><p>Internal recursive function for <code><a href="Data-SignTyped-Structure.html#v:validateEthValue" title="Data.SignTyped.Structure">validateEthValue</a></code>.</p><p>The first argument is a <code><a href="../base-4.17.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a></code>-encoded prefix of the value's location (e.g. <code>showString &quot;.elems[3].first&quot;</code>).</p><p>The partial list is returned as a difference-list.</p><p>The default entrypoint is defined like this:</p><pre>       validateEthValue tc ethType ethValue =
           validateEthValueWorker (showString &quot;$&quot;) tc ethType ethValue []
   </pre></div></div><div class="top"><p class="src"><a id="v:isValidInteger" class="def">isValidInteger</a> :: <a href="Data-SignTyped-Structure.html#t:AtomicIntegerSignedness" title="Data.SignTyped.Structure">AtomicIntegerSignedness</a> -&gt; <a href="Data-SignTyped-Structure.html#t:AtomicIntegerBitSize" title="Data.SignTyped.Structure">AtomicIntegerBitSize</a> -&gt; <a href="../base-4.17.1.0/Prelude.html#t:Integer" title="Prelude">Integer</a> -&gt; <a href="../base-4.17.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Data.SignTyped.Structure.html#isValidInteger" class="link">Source</a> <a href="#v:isValidInteger" class="selflink">#</a></p><div class="doc"><p>Check that the given integer fits within the given type. </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>